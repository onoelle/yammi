<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta name="robots" content="noindex">
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>yammigui.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body bgcolor="#ffffff">
<!-- Generated by Doxygen 1.2.6 -->
<center>
<a class="qindex" href="index.html">Main Page</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; </center>
<hr><h1>yammigui.h</h1><div class="fragment"><pre>00001 <font class="comment">/***************************************************************************</font>
00002 <font class="comment">                          yammigui.h  -  description</font>
00003 <font class="comment">                             -------------------</font>
00004 <font class="comment">    begin                : Tue Feb 27 2001</font>
00005 <font class="comment">    copyright            : (C) 2001 by Brian O.Nölle</font>
00006 <font class="comment">    email                : oli.noelle@web.de</font>
00007 <font class="comment"> ***************************************************************************/</font>
00008 
00009 <font class="comment">/***************************************************************************</font>
00010 <font class="comment"> *                                                                         *</font>
00011 <font class="comment"> *   This program is free software; you can redistribute it and/or modify  *</font>
00012 <font class="comment"> *   it under the terms of the GNU General Public License as published by  *</font>
00013 <font class="comment"> *   the Free Software Foundation; either version 2 of the License, or     *</font>
00014 <font class="comment"> *   (at your option) any later version.                                   *</font>
00015 <font class="comment"> *                                                                         *</font>
00016 <font class="comment"> ***************************************************************************/</font>
00017 
00018 <font class="preprocessor">#ifndef YAMMIGUI_H</font>
00019 <font class="preprocessor"></font><font class="preprocessor">#define YAMMIGUI_H</font>
00020 <font class="preprocessor"></font>
00021 
00022 <font class="comment">// gui-stuff</font>
00023 <font class="preprocessor">#include &lt;qlabel.h&gt;</font>
00024 <font class="preprocessor">#include &lt;qpushbutton.h&gt;</font>
00025 <font class="preprocessor">#include &lt;qhbox.h&gt;</font>
00026 <font class="preprocessor">#include &lt;qvbox.h&gt;</font>
00027 <font class="preprocessor">#include &lt;qpainter.h&gt;</font>
00028 <font class="preprocessor">#include &lt;qpalette.h&gt;</font>
00029 <font class="preprocessor">#include &lt;qpopupmenu.h&gt;</font>
00030 <font class="preprocessor">#include &lt;qmessagebox.h&gt;</font>
00031 <font class="preprocessor">#include &lt;qinputdialog.h&gt;</font>
00032 <font class="preprocessor">#include &lt;qmenudata.h&gt;</font>
00033 <font class="preprocessor">#include &lt;qmenubar.h&gt;</font>
00034 <font class="preprocessor">#include &lt;qlistview.h&gt;</font>
00035 <font class="preprocessor">#include &lt;qlineedit.h&gt;</font>
00036 <font class="preprocessor">#include &lt;qcombobox.h&gt;</font>
00037 <font class="preprocessor">#include &lt;qcheckbox.h&gt;</font>
00038 <font class="preprocessor">#include &lt;qmainwindow.h&gt;</font>
00039 <font class="preprocessor">#include &lt;qlayout.h&gt;</font>
00040 <font class="preprocessor">#include &lt;qsplitter.h&gt;</font>
00041 <font class="preprocessor">#include &lt;qstatusbar.h&gt;</font>
00042 <font class="preprocessor">#include &lt;qfiledialog.h&gt;</font>
00043 <font class="preprocessor">#include &lt;qtoolbar.h&gt;</font>
00044 <font class="preprocessor">#include &lt;qtoolbutton.h&gt;</font>
00045 
00046 
00047 <font class="preprocessor">#include &lt;qapplication.h&gt;</font>
00048 <font class="preprocessor">#include &lt;qheader.h&gt;</font>
00049 <font class="preprocessor">#include &lt;qregexp.h&gt;</font>
00050 <font class="preprocessor">#include &lt;qdir.h&gt;</font>
00051 <font class="preprocessor">#include &lt;stdlib.h&gt;</font>
00052 <font class="preprocessor">#include &lt;stdio.h&gt;</font>
00053 <font class="preprocessor">#include &lt;iostream.h&gt;</font>
00054 <font class="preprocessor">#include &lt;qstring.h&gt;</font>
00055 <font class="preprocessor">#include &lt;qobject.h&gt;</font>
00056 <font class="preprocessor">#include &lt;qdatetime.h&gt;</font>
00057 <font class="preprocessor">#include &lt;qlist.h&gt;</font>
00058 <font class="preprocessor">#include &lt;qtimer.h&gt;</font>
00059 <font class="preprocessor">#include &lt;qevent.h&gt;</font>
00060 <font class="preprocessor">#include &lt;qtooltip.h&gt;</font>
00061 <font class="preprocessor">#include &lt;qslider.h&gt;</font>
00062 
00063 <font class="comment">// xmms control</font>
00064 <font class="preprocessor">#include &lt;xmms/xmmsctrl.h&gt;</font>
00065 
00066 <font class="comment">// my includes</font>
00067 <font class="preprocessor">#include "yammimodel.h"</font>
00068 <font class="preprocessor">#include "song.h"</font>
00069 <font class="preprocessor">#include "songentry.h"</font>
00070 <font class="preprocessor">#include "songentryint.h"</font>
00071 <font class="preprocessor">#include "songentrystring.h"</font>
00072 <font class="preprocessor">#include "songentrytimestamp.h"</font>
00073 <font class="preprocessor">#include "songlistitem.h"</font>
00074 <font class="preprocessor">#include "songinfo.h"</font>
00075 <font class="preprocessor">#include "fuzzsrch.h"</font>
00076 <font class="preprocessor">#include "folder.h"</font>
00077 <font class="preprocessor">#include "foldergroups.h"</font>
00078 <font class="preprocessor">#include "foldercategories.h"</font>
00079 <font class="preprocessor">#include "foldermedia.h"</font>
00080 <font class="preprocessor">#include "preferencesdialog.h"</font>
00081 <font class="preprocessor">#include "DeleteDialog.h"</font>
00082 <font class="preprocessor">#include "mylistview.h"</font>
00083 
00084 
00085 
00086 <font class="comment">// -----------------------------------------------------------------</font>
00087 
00088 
<a name="l00092"></a><a class="code" href="class_YammiGui.html">00092</a> <font class="keyword">class </font><a class="code" href="class_YammiGui.html">YammiGui</a> : <font class="keyword">public</font> QMainWindow
00093 {
00094     Q_OBJECT
00095 
00096 <font class="keyword">public</font>:
00097     YammiGui    (QWidget *parent = 0, <font class="keyword">const</font> <font class="keywordtype">char</font> *name = 0);
00098     ~YammiGui   ();
00099     <font class="keywordtype">void</font>            stopDragging();
00100   <a class="code" href="class_YammiModel.html">YammiModel</a>* getModel()<font class="keyword"> </font>{ <font class="keywordflow">return</font> model; };
00101 
00102 
00103 <font class="keyword">protected</font>:
00104     <font class="keywordtype">void</font>            myWait(<font class="keywordtype">int</font> msecs);
00105     <font class="keywordtype">int</font>             shuttingDown;
00106     <font class="keywordtype">void</font>            decide(<a class="code" href="class_Song.html">Song</a>* s1, <a class="code" href="class_Song.html">Song</a>* s2);
00107     <font class="keywordtype">void</font>            keyPressEvent(QKeyEvent* e);
00108         
00109     <font class="keywordtype">void</font>            getCurrentSong();
00110     <font class="keywordtype">void</font>            getCurrentlyPlayedSong();
00111     <font class="keywordtype">void</font>            getSelectedSongs();
00112     <font class="keywordtype">void</font>            getAllSongs();
00113     <a class="code" href="class_MyList.html">MyList</a>      selectedSongs;
00114     <a class="code" href="class_MyList.html">MyList</a>      searchResults;
00115     Folder*     chosenFolder;
00116     <font class="keywordtype">void</font>            updateSongPopup();
00117     <font class="keywordtype">void</font>            updateListViewColumns();
00118 
00119     <font class="keywordtype">void</font>            syncYammi2Xmms(<font class="keywordtype">bool</font> syncAll=<font class="keyword">false</font>); <font class="comment">// yammi -&gt; xmms</font>
00120     <font class="keywordtype">void</font>            syncXmms2Yammi();       <font class="comment">// xmms -&gt; yammi</font>
00121 
00122         
00123     <font class="comment">// gui</font>
00124     <font class="comment">//***************</font>
00125     <a class="code" href="class_MyListView.html">MyListView</a>*     songListView;           <font class="comment">// draggggg</font>
00126     QListView*      folderListView;
00127     QLineEdit*      searchField;
00128     QPushButton*    currentSongLabel;
00129     QPopupMenu*     playListPopup;
00130     QPopupMenu*     songPopup;
00131     QPopupMenu*     songPlayPopup;
00132     QPopupMenu*     songPrelistenPopup;
00133     QPopupMenu*     songAdvancedPopup;
00134     QPopupMenu*     songSearchPopup;
00135     QPopupMenu*     folderPopup;
00136     QMenuBar*           mainMenu;
00137     QPopupMenu*     fileMenu;
00138     QPopupMenu*     viewMenu;
00139     QPopupMenu*     xmmsMenu;
00140     QPopupMenu*     helpMenu;
00141     QStatusBar*     mainStatusBar;                  <font class="comment">// status bar</font>
00142     QToolBar*           toolBar;                                <font class="comment">// tool bar</font>
00143     QSlider*            songSlider;
00144     <font class="keywordtype">bool</font>                    isSongSliderGrabbed;
00145 <font class="keyword">public</font>: 
00146     QToolButton*    tbSaveDatabase;
00147 <font class="keyword">protected</font>:
00148     QToolButton*    tbForward;
00149     QToolButton*    tbBackward;
00150     QToolButton*    tbPause;
00151     QToolButton*    tbClearPlaylist;
00152     QToolButton*    tbEnqueue;
00153     QToolButton*    tbEnqueueAsNext;
00154     QToolButton*    tbPlayNow;
00155     QToolButton*    tbPrelistenStart;
00156     QToolButton*    tbPrelistenMiddle;
00157     QToolButton*    tbPrelistenEnd;
00158     QToolButton*    tbStopPrelisten;
00159     QToolButton*    tbDequeueSong;
00160     QToolButton*    tbSongInfo;
00161 
00162 <font class="keyword">protected</font> slots:
00163     <font class="keywordtype">void</font>                endProgram();
00164     <font class="keywordtype">void</font>                shutDown();
00165     <font class="keywordtype">void</font>                setPreferences();
00166     <font class="keywordtype">void</font>                openHelp();
00167     <font class="keywordtype">void</font>                aboutDialog();
00168     <font class="keywordtype">void</font>                userTyped( <font class="keyword">const</font> QString&amp; searchStr );
00169     <font class="keywordtype">void</font>                songSliderMoved();
00170     <font class="keywordtype">void</font>                songSliderGrabbed();
00171     <font class="keywordtype">void</font>                searchSimilar(<font class="keywordtype">int</font> what);
00172     <font class="keywordtype">void</font>                searchFieldChanged();
00173     <font class="keywordtype">void</font>                slotFolderChanged();
00174     <font class="keywordtype">void</font>                slotSongChanged();
00175     <font class="keywordtype">void</font>                currentlyPlayedSongPopup();
00176     <font class="keywordtype">void</font>                songListPopup( QListViewItem*, <font class="keyword">const</font> QPoint &amp;, <font class="keywordtype">int</font> );
00177     <font class="keywordtype">void</font>                doSongPopup(QPoint point);
00178     <font class="keywordtype">void</font>                slotFolderPopup( QListViewItem*, <font class="keyword">const</font> QPoint &amp;, <font class="keywordtype">int</font> );
00179     <font class="keywordtype">void</font>                adjustSongPopup();
00180     QIconSet        getPopupIcon(action whichAction);
00181 
00182     <font class="keywordtype">void</font>                doubleClick();
00183     <font class="keywordtype">void</font>                middleClick(<font class="keywordtype">int</font> button);
00184 
00185     <font class="keywordtype">void</font>                updateSongDatabase();
00186     <font class="keywordtype">void</font>                updateView();
00187         
00188     <font class="comment">// song action slots</font>
00189     <font class="keywordtype">void</font>                forAllCheckConsistency();
00190         
00191     <font class="comment">// these three methods perform an action for...</font>
00192     <font class="keywordtype">void</font>                forCurrent(action act);                     <font class="comment">// ..current song</font>
00193     <font class="keywordtype">void</font>                forAllSelected(action act);             <font class="comment">// ..all selected (in songlist)</font>
00194     <font class="keywordtype">void</font>                forAll(action act);                             <font class="comment">// ..all songs</font>
00195         
00196         
00197     <font class="comment">// this works on the songs in selection</font>
00198     <font class="comment">// (can be different than currently selected songs!)</font>
00199     <font class="keywordtype">void</font>                forSelection(action act);                                                                   <font class="comment">// perform &lt;action&gt; on &lt;selectedSongs&gt;</font>
00200     <font class="keywordtype">void</font>                forSelection(<font class="keywordtype">int</font> act)<font class="keyword"> </font>{forSelection((action) act);}             <font class="comment">// just needed for menu receivers with ints</font>
00201     <font class="comment">// special treatment needed?</font>
00202     <font class="keywordtype">void</font>                forSelectionSongInfo();
00203         
00204     <font class="keywordtype">void</font>                forSong(<a class="code" href="class_Song.html">Song</a>* s, action act, QString dir=0);
00205     
00206     <font class="keywordtype">void</font>                forAllSelectedEnqueue()<font class="keyword"> </font>{forAllSelected(Enqueue); }
00207     <font class="keywordtype">void</font>                forAllSelectedEnqueueAsNext()<font class="keyword"> </font>{forAllSelected(EnqueueAsNext); }
00208     <font class="keywordtype">void</font>                forAllSelectedPlayNow()<font class="keyword"> </font>{forAllSelected(PlayNow); }
00209     <font class="keywordtype">void</font>                forAllSelectedPrelistenStart()<font class="keyword"> </font>{forAllSelected(PrelistenStart); }
00210     <font class="keywordtype">void</font>                forAllSelectedPrelistenMiddle()<font class="keyword"> </font>{forAllSelected(PrelistenMiddle); }
00211     <font class="keywordtype">void</font>                forAllSelectedPrelistenEnd()<font class="keyword"> </font>{forAllSelected(PrelistenEnd); }
00212     <font class="keywordtype">void</font>                forAllSelectedDequeue()<font class="keyword"> </font>{forAllSelected(Dequeue); }
00213     <font class="keywordtype">void</font>                forAllSelectedSongInfo()<font class="keyword"> </font>{forAllSelected(<a class="code" href="class_SongInfo.html">SongInfo</a>); }
00214   <font class="keywordtype">void</font>              <a class="code" href="class_YammiGui.html#h38">preListen</a>(<a class="code" href="class_Song.html">Song</a>* s, <font class="keywordtype">int</font> skipTo);  
00215   <font class="keywordtype">void</font>              stopPrelisten();
00216 
00217 <font class="comment">// model</font>
00218 <font class="comment">//***********************</font>
00219 <font class="keyword">public</font>:
00220     <a class="code" href="class_Song.html">Song</a>*                   currentSong;                    <font class="comment">// song that is currently played or 0 if not in database</font>
00221     
00222 <font class="keyword">protected</font>:
00223     <a class="code" href="class_YammiModel.html">YammiModel</a>*     model;                              <font class="comment">// pointer to our model</font>
00224     QString             currentFile;                    <font class="comment">// file that is currently played by xmms</font>
00225     QString             grabbedTrackFilename;   <font class="comment">// filename of new track being grabbed</font>
00226 
00227     QTimer              regularTimer;
00228     QTimer              typeTimer;
00229     <font class="keywordtype">int</font>                     songsUntilShutdown;
00230 
00231 
00232     <font class="comment">// folders</font>
00233     Folder*             folderAll;
00234     Folder*             folderSearchResults;
00235     Folder*             folderActual;
00236     <a class="code" href="class_FolderGroups.html">FolderGroups</a>*   folderArtists;
00237     <a class="code" href="class_FolderGroups.html">FolderGroups</a>*   folderAlbums;
00238     <a class="code" href="class_FolderCategories.html">FolderCategories</a>* folderCategories;
00239     <a class="code" href="class_FolderMedia.html">FolderMedia</a>*    folderMedia;
00240     Folder*             folderUnclassified;
00241     Folder*             folderProblematic;
00242     Folder*             folderHistory;              <font class="comment">// songs played sometime</font>
00243     Folder*             folderSongsPlayed;      <font class="comment">// songs played in this session</font>
00244     
00245     Folder*             folderToAdd;                    <font class="comment">// for snappy folder adding in background</font>
00246     <font class="keywordtype">int</font>                     alreadyAdded;
00247     <font class="keywordtype">void</font>                    addFolderContent(Folder* folder);
00248 
00249 <font class="keyword">public</font> slots:
00250   <font class="keywordtype">void</font>                  checkForGrabbedTrack();
00251 
00252 <font class="keyword">protected</font> slots:        
00253     <font class="keywordtype">void</font>                    addToWishList();
00254     <font class="keywordtype">void</font>                    toPlayList(<font class="keywordtype">int</font> index);
00255     <font class="keywordtype">void</font>                    xmms_playPause();
00256     <font class="keywordtype">void</font>                    xmms_skipForward();
00257     <font class="keywordtype">void</font>                    xmms_skipBackward();
00258     <font class="keywordtype">void</font>                    xmms_clearPlaylist();
00259         
00260     <font class="keywordtype">void</font>                    onTimer();
00261     <a class="code" href="class_Song.html">Song</a>*                   getSongFromFilename(QString filename);
00262     
00263   <font class="keywordtype">void</font>                  newCategory();                      
00264     <font class="keywordtype">void</font>                    <a class="code" href="class_YammiGui.html#h49">removeCategory</a>();
00265     <font class="keywordtype">void</font>                    enqueueFolder();
00266     <font class="keywordtype">void</font>                    burnFolder();
00267     <font class="keywordtype">void</font>                    removeMedia();
00268     <font class="keywordtype">void</font>                    enqueueCdTrack();
00269     <font class="keywordtype">void</font>                    addFolderContentSnappy();
00270         
00271 };
00272 
00273 <font class="preprocessor">#endif</font>
00274 <font class="preprocessor"></font>
</pre></div><hr><address><small>Generated at Sun Mar 17 19:27:04 2002 by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.gif" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.6 written by <a href="mailto:dimitri@stack.nl">Dimitri van Heesch</a>,
 &copy;&nbsp;1997-2001</small></address>
</body>
</html>
